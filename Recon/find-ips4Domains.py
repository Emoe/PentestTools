import dns.resolver
import sys

domains = []
for line in  open(sys.argv[1],"rw"):
	domains.append(line[:-1])
sortiert = {}
print "Unsortiert:"
for domain in domains:	
	try:
		answer = dns.resolver.query(domain, 'A')
		print  domain +": " + str(answer[0])
		if str(answer[0]) not in sortiert:
			sortiert[str(answer[0])] = []
			sortiert[str(answer[0])].append(domain)
		elif str(answer[0]) in sortiert:
			sortiert[str(answer[0])].append(domain)
	except :
		pass

print "\nSortiert:"
for ip in sortiert:
	print ip
	for domain in sortiert[ip]:
		print domain
	print ""
